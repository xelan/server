(window.webpackJsonpSettings=window.webpackJsonpSettings||[]).push([[7],{500:function(t,e,n){var a=n(525);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(121).default)("b94ab20c",a,!0,{})},501:function(t,e,n){var a=n(531);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(121).default)("a598dc02",a,!0,{})},524:function(t,e,n){"use strict";var a=n(500);n.n(a).a},525:function(t,e,n){"use strict";n.r(e);var a=n(49),i=n.n(a)()(!0);i.push([t.i,"\n.force[data-v-a2726204] {\n\tbackground: var(--color-main-background);\n\tborder-color: var(--color-error);\n\tcolor: var(--color-error);\n}\n.force[data-v-a2726204]:hover,\n.force[data-v-a2726204]:active {\n\tbackground: var(--color-error);\n\tborder-color: var(--color-error) !important;\n\tcolor: var(--color-main-background);\n}\n","",{"version":3,"sources":["apps/settings/src/components/AppList/AppItem.vue"],"names":[],"mappings":";AAmLA;CACA,wCAAA;CACA,gCAAA;CACA,yBAAA;AACA;AACA;;CAEA,8BAAA;CACA,2CAAA;CACA,mCAAA;AACA","file":"AppItem.vue","sourcesContent":['\x3c!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n\n<template>\n\t<div class="section" :class="{ selected: isSelected }" @click="showAppDetails">\n\t\t<div class="app-image app-image-icon" @click="showAppDetails">\n\t\t\t<div v-if="(listView && !app.preview) || (!listView && !screenshotLoaded)" class="icon-settings-dark" />\n\n\t\t\t<svg v-else-if="listView && app.preview"\n\t\t\t\twidth="32"\n\t\t\t\theight="32"\n\t\t\t\tviewBox="0 0 32 32">\n\t\t\t\t<defs><filter :id="filterId"><feColorMatrix in="SourceGraphic" type="matrix" values="-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0" /></filter></defs>\n\t\t\t\t<image x="0"\n\t\t\t\t\ty="0"\n\t\t\t\t\twidth="32"\n\t\t\t\t\theight="32"\n\t\t\t\t\tpreserveAspectRatio="xMinYMin meet"\n\t\t\t\t\t:filter="filterUrl"\n\t\t\t\t\t:xlink:href="app.preview"\n\t\t\t\t\tclass="app-icon" />\n\t\t\t</svg>\n\n\t\t\t<img v-if="!listView && app.screenshot && screenshotLoaded" :src="app.screenshot" width="100%">\n\t\t</div>\n\t\t<div class="app-name" @click="showAppDetails">\n\t\t\t{{ app.name }}\n\t\t</div>\n\t\t<div v-if="!listView" class="app-summary">\n\t\t\t{{ app.summary }}\n\t\t</div>\n\t\t<div v-if="listView" class="app-version">\n\t\t\t<span v-if="app.version">{{ app.version }}</span>\n\t\t\t<span v-else-if="app.appstoreData.releases[0].version">{{ app.appstoreData.releases[0].version }}</span>\n\t\t</div>\n\n\t\t<div class="app-level">\n\t\t\t<span v-if="app.level === 300"\n\t\t\t\tv-tooltip.auto="t(\'settings\', \'This app is supported via your current Nextcloud subscription.\')"\n\t\t\t\tclass="supported icon-checkmark-color">\n\t\t\t\t{{ t(\'settings\', \'Supported\') }}</span>\n\t\t\t<span v-if="app.level === 200"\n\t\t\t\tv-tooltip.auto="t(\'settings\', \'Featured apps are developed by and within the community. They offer central functionality and are ready for production use.\')"\n\t\t\t\tclass="official icon-checkmark">\n\t\t\t\t{{ t(\'settings\', \'Featured\') }}</span>\n\t\t\t<AppScore v-if="hasRating && !listView" :score="app.score" />\n\t\t</div>\n\n\t\t<div class="actions">\n\t\t\t<div v-if="app.error" class="warning">\n\t\t\t\t{{ app.error }}\n\t\t\t</div>\n\t\t\t<div v-if="loading(app.id)" class="icon icon-loading-small" />\n\t\t\t<input v-if="app.update"\n\t\t\t\tclass="update primary"\n\t\t\t\ttype="button"\n\t\t\t\t:value="t(\'settings\', \'Update to {update}\', {update:app.update})"\n\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t@click.stop="update(app.id)">\n\t\t\t<input v-if="app.canUnInstall"\n\t\t\t\tclass="uninstall"\n\t\t\t\ttype="button"\n\t\t\t\t:value="t(\'settings\', \'Remove\')"\n\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t@click.stop="remove(app.id)">\n\t\t\t<input v-if="app.active"\n\t\t\t\tclass="enable"\n\t\t\t\ttype="button"\n\t\t\t\t:value="t(\'settings\',\'Disable\')"\n\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t@click.stop="disable(app.id)">\n\t\t\t<input v-if="!app.active && (app.canInstall || app.isCompatible)"\n\t\t\t\tv-tooltip.auto="enableButtonTooltip"\n\t\t\t\tclass="enable"\n\t\t\t\ttype="button"\n\t\t\t\t:value="enableButtonText"\n\t\t\t\t:disabled="!app.canInstall || installing || loading(app.id)"\n\t\t\t\t@click.stop="enable(app.id)">\n\t\t\t<input v-else-if="!app.active"\n\t\t\t\tv-tooltip.auto="forceEnableButtonTooltip"\n\t\t\t\tclass="enable force"\n\t\t\t\ttype="button"\n\t\t\t\t:value="forceEnableButtonText"\n\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t@click.stop="forceEnable(app.id)">\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport AppScore from \'./AppScore\'\nimport AppManagement from \'../AppManagement\'\nimport SvgFilterMixin from \'../SvgFilterMixin\'\n\nexport default {\n\tname: \'AppItem\',\n\tcomponents: {\n\t\tAppScore,\n\t},\n\tmixins: [AppManagement, SvgFilterMixin],\n\tprops: {\n\t\tapp: {},\n\t\tcategory: {},\n\t\tlistView: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisSelected: false,\n\t\t\tscrolled: false,\n\t\t\tscreenshotLoaded: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\thasRating() {\n\t\t\treturn this.app.appstoreData && this.app.appstoreData.ratingNumOverall > 5\n\t\t},\n\t},\n\twatch: {\n\t\t\'$route.params.id\'(id) {\n\t\t\tthis.isSelected = (this.app.id === id)\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.isSelected = (this.app.id === this.$route.params.id)\n\t\tif (this.app.screenshot) {\n\t\t\tconst image = new Image()\n\t\t\timage.onload = (e) => {\n\t\t\t\tthis.screenshotLoaded = true\n\t\t\t}\n\t\t\timage.src = this.app.screenshot\n\t\t}\n\t},\n\twatchers: {\n\n\t},\n\tmethods: {\n\t\tasync showAppDetails(event) {\n\t\t\tif (event.currentTarget.tagName === \'INPUT\' || event.currentTarget.tagName === \'A\') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: \'apps-details\',\n\t\t\t\t\tparams: { category: this.category, id: this.app.id },\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\t// we already view this app\n\t\t\t}\n\t\t},\n\t\tprefix(prefix, content) {\n\t\t\treturn prefix + \'_\' + content\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n\t.force {\n\t\tbackground: var(--color-main-background);\n\t\tborder-color: var(--color-error);\n\t\tcolor: var(--color-error);\n\t}\n\t.force:hover,\n\t.force:active {\n\t\tbackground: var(--color-error);\n\t\tborder-color: var(--color-error) !important;\n\t\tcolor: var(--color-main-background);\n\t}\n</style>\n']}]),e.default=i},530:function(t,e,n){"use strict";var a=n(501);n.n(a).a},531:function(t,e,n){"use strict";n.r(e);var a=n(49),i=n.n(a)()(!0);i.push([t.i,"\n.force[data-v-0eaf6f08] {\n\tbackground: var(--color-main-background);\n\tborder-color: var(--color-error);\n\tcolor: var(--color-error);\n}\n.force[data-v-0eaf6f08]:hover,\n.force[data-v-0eaf6f08]:active {\n\tbackground: var(--color-error);\n\tborder-color: var(--color-error) !important;\n\tcolor: var(--color-main-background);\n}\n","",{"version":3,"sources":["apps/settings/src/components/AppDetails.vue"],"names":[],"mappings":";AAmUA;CACA,wCAAA;CACA,gCAAA;CACA,yBAAA;AACA;AACA;;CAEA,8BAAA;CACA,2CAAA;CACA,mCAAA;AACA","file":"AppDetails.vue","sourcesContent":['\x3c!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n\n<template>\n\t<div id="app-details-view" style="padding: 20px;">\n\t\t<h2>\n\t\t\t<div v-if="!app.preview" class="icon-settings-dark" />\n\t\t\t<svg v-if="app.previewAsIcon && app.preview"\n\t\t\t\twidth="32"\n\t\t\t\theight="32"\n\t\t\t\tviewBox="0 0 32 32">\n\t\t\t\t<defs><filter :id="filterId"><feColorMatrix in="SourceGraphic" type="matrix" values="-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0" /></filter></defs>\n\t\t\t\t<image x="0"\n\t\t\t\t\ty="0"\n\t\t\t\t\twidth="32"\n\t\t\t\t\theight="32"\n\t\t\t\t\tpreserveAspectRatio="xMinYMin meet"\n\t\t\t\t\t:filter="filterUrl"\n\t\t\t\t\t:xlink:href="app.preview"\n\t\t\t\t\tclass="app-icon" />\n\t\t\t</svg>\n\t\t\t{{ app.name }}\n\t\t</h2>\n\t\t<img v-if="screenshotLoaded" :src="app.screenshot" width="100%">\n\t\t<div v-if="app.level === 300 || app.level === 200 || hasRating" class="app-level">\n\t\t\t<span v-if="app.level === 300"\n\t\t\t\tv-tooltip.auto="t(\'settings\', \'This app is supported via your current Nextcloud subscription.\')"\n\t\t\t\tclass="supported icon-checkmark-color">\n\t\t\t\t{{ t(\'settings\', \'Supported\') }}</span>\n\t\t\t<span v-if="app.level === 200"\n\t\t\t\tv-tooltip.auto="t(\'settings\', \'Featured apps are developed by and within the community. They offer central functionality and are ready for production use.\')"\n\t\t\t\tclass="official icon-checkmark">\n\t\t\t\t{{ t(\'settings\', \'Featured\') }}</span>\n\t\t\t<AppScore v-if="hasRating" :score="app.appstoreData.ratingOverall" />\n\t\t</div>\n\n\t\t<div v-if="author" class="app-author">\n\t\t\t{{ t(\'settings\', \'by\') }}\n\t\t\t<span v-for="(a, index) in author" :key="index">\n\t\t\t\t<a v-if="a[\'@attributes\'] && a[\'@attributes\'][\'homepage\']" :href="a[\'@attributes\'][\'homepage\']">{{ a[\'@value\'] }}</a><span v-else-if="a[\'@value\']">{{ a[\'@value\'] }}</span><span v-else>{{ a }}</span><span v-if="index+1 < author.length">, </span>\n\t\t\t</span>\n\t\t</div>\n\t\t<div v-if="licence" class="app-licence">\n\t\t\t{{ licence }}\n\t\t</div>\n\t\t<div class="actions">\n\t\t\t<div class="actions-buttons">\n\t\t\t\t<input v-if="app.update"\n\t\t\t\t\tclass="update primary"\n\t\t\t\t\ttype="button"\n\t\t\t\t\t:value="t(\'settings\', \'Update to {version}\', {version: app.update})"\n\t\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t\t@click="update(app.id)">\n\t\t\t\t<input v-if="app.canUnInstall"\n\t\t\t\t\tclass="uninstall"\n\t\t\t\t\ttype="button"\n\t\t\t\t\t:value="t(\'settings\', \'Remove\')"\n\t\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t\t@click="remove(app.id)">\n\t\t\t\t<input v-if="app.active"\n\t\t\t\t\tclass="enable"\n\t\t\t\t\ttype="button"\n\t\t\t\t\t:value="t(\'settings\',\'Disable\')"\n\t\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t\t@click="disable(app.id)">\n\t\t\t\t<input v-if="!app.active && (app.canInstall || app.isCompatible)"\n\t\t\t\t\tv-tooltip.auto="enableButtonTooltip"\n\t\t\t\t\tclass="enable primary"\n\t\t\t\t\ttype="button"\n\t\t\t\t\t:value="enableButtonText"\n\t\t\t\t\t:disabled="!app.canInstall || installing || loading(app.id)"\n\t\t\t\t\t@click="enable(app.id)">\n\t\t\t\t<input v-else-if="!app.active"\n\t\t\t\t\tv-tooltip.auto="forceEnableButtonTooltip"\n\t\t\t\t\tclass="enable force"\n\t\t\t\t\ttype="button"\n\t\t\t\t\t:value="forceEnableButtonText"\n\t\t\t\t\t:disabled="installing || loading(app.id)"\n\t\t\t\t\t@click="forceEnable(app.id)">\n\t\t\t</div>\n\t\t\t<div class="app-groups">\n\t\t\t\t<div v-if="app.active && canLimitToGroups(app)" class="groups-enable">\n\t\t\t\t\t<input :id="prefix(\'groups_enable\', app.id)"\n\t\t\t\t\t\tv-model="groupCheckedAppsData"\n\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t:value="app.id"\n\t\t\t\t\t\tclass="groups-enable__checkbox checkbox"\n\t\t\t\t\t\t@change="setGroupLimit">\n\t\t\t\t\t<label :for="prefix(\'groups_enable\', app.id)">{{ t(\'settings\', \'Limit to groups\') }}</label>\n\t\t\t\t\t<input type="hidden"\n\t\t\t\t\t\tclass="group_select"\n\t\t\t\t\t\t:title="t(\'settings\', \'All\')"\n\t\t\t\t\t\tvalue="">\n\t\t\t\t\t<Multiselect v-if="isLimitedToGroups(app)"\n\t\t\t\t\t\t:options="groups"\n\t\t\t\t\t\t:value="appGroups"\n\t\t\t\t\t\t:options-limit="5"\n\t\t\t\t\t\t:placeholder="t(\'settings\', \'Limit app usage to groups\')"\n\t\t\t\t\t\tlabel="name"\n\t\t\t\t\t\ttrack-by="id"\n\t\t\t\t\t\tclass="multiselect-vue"\n\t\t\t\t\t\t:multiple="true"\n\t\t\t\t\t\t:close-on-select="false"\n\t\t\t\t\t\t:tag-width="60"\n\t\t\t\t\t\t@select="addGroupLimitation"\n\t\t\t\t\t\t@remove="removeGroupLimitation"\n\t\t\t\t\t\t@search-change="asyncFindGroup">\n\t\t\t\t\t\t<span slot="noResult">{{ t(\'settings\', \'No results\') }}</span>\n\t\t\t\t\t</Multiselect>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<ul class="app-dependencies">\n\t\t\t<li v-if="app.missingMinOwnCloudVersion">\n\t\t\t\t{{ t(\'settings\', \'This app has no minimum Nextcloud version assigned. This will be an error in the future.\') }}\n\t\t\t</li>\n\t\t\t<li v-if="app.missingMaxOwnCloudVersion">\n\t\t\t\t{{ t(\'settings\', \'This app has no maximum Nextcloud version assigned. This will be an error in the future.\') }}\n\t\t\t</li>\n\t\t\t<li v-if="!app.canInstall">\n\t\t\t\t{{ t(\'settings\', \'This app cannot be installed because the following dependencies are not fulfilled:\') }}\n\t\t\t\t<ul class="missing-dependencies">\n\t\t\t\t\t<li v-for="(dep, index) in app.missingDependencies" :key="index">\n\t\t\t\t\t\t{{ dep }}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<p class="documentation">\n\t\t\t<a v-if="!app.internal"\n\t\t\t\tclass="appslink"\n\t\t\t\t:href="appstoreUrl"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener">{{ t(\'settings\', \'View in store\') }} ↗</a>\n\n\t\t\t<a v-if="app.website"\n\t\t\t\tclass="appslink"\n\t\t\t\t:href="app.website"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener">{{ t(\'settings\', \'Visit website\') }} ↗</a>\n\t\t\t<a v-if="app.bugs"\n\t\t\t\tclass="appslink"\n\t\t\t\t:href="app.bugs"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener">{{ t(\'settings\', \'Report a bug\') }} ↗</a>\n\n\t\t\t<a v-if="app.documentation && app.documentation.user"\n\t\t\t\tclass="appslink"\n\t\t\t\t:href="app.documentation.user"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener">{{ t(\'settings\', \'User documentation\') }} ↗</a>\n\t\t\t<a v-if="app.documentation && app.documentation.admin"\n\t\t\t\tclass="appslink"\n\t\t\t\t:href="app.documentation.admin"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener">{{ t(\'settings\', \'Admin documentation\') }} ↗</a>\n\t\t\t<a v-if="app.documentation && app.documentation.developer"\n\t\t\t\tclass="appslink"\n\t\t\t\t:href="app.documentation.developer"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener">{{ t(\'settings\', \'Developer documentation\') }} ↗</a>\n\t\t</p>\n\n\t\t<div class="app-description" v-html="renderMarkdown" />\n\t</div>\n</template>\n\n<script>\nimport { Multiselect } from \'@nextcloud/vue\'\nimport marked from \'marked\'\nimport dompurify from \'dompurify\'\n\nimport AppScore from \'./AppList/AppScore\'\nimport AppManagement from \'./AppManagement\'\nimport PrefixMixin from \'./PrefixMixin\'\nimport SvgFilterMixin from \'./SvgFilterMixin\'\n\nexport default {\n\tname: \'AppDetails\',\n\tcomponents: {\n\t\tMultiselect,\n\t\tAppScore,\n\t},\n\tmixins: [AppManagement, PrefixMixin, SvgFilterMixin],\n\tprops: [\'category\', \'app\'],\n\tdata() {\n\t\treturn {\n\t\t\tgroupCheckedAppsData: false,\n\t\t\tscreenshotLoaded: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tappstoreUrl() {\n\t\t\treturn `https://apps.nextcloud.com/apps/${this.app.id}`\n\t\t},\n\t\tlicence() {\n\t\t\tif (this.app.licence) {\n\t\t\t\treturn t(\'settings\', \'{license}-licensed\', { license: (\'\' + this.app.licence).toUpperCase() })\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\thasRating() {\n\t\t\treturn this.app.appstoreData && this.app.appstoreData.ratingNumOverall > 5\n\t\t},\n\t\tauthor() {\n\t\t\tif (typeof this.app.author === \'string\') {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\t\'@value\': this.app.author,\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (this.app.author[\'@value\']) {\n\t\t\t\treturn [this.app.author]\n\t\t\t}\n\t\t\treturn this.app.author\n\t\t},\n\t\tappGroups() {\n\t\t\treturn this.app.groups.map(group => { return { id: group, name: group } })\n\t\t},\n\t\tgroups() {\n\t\t\treturn this.$store.getters.getGroups\n\t\t\t\t.filter(group => group.id !== \'disabled\')\n\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\n\t\t},\n\t\trenderMarkdown() {\n\t\t\tconst renderer = new marked.Renderer()\n\t\t\trenderer.link = function(href, title, text) {\n\t\t\t\tlet prot\n\t\t\t\ttry {\n\t\t\t\t\tprot = decodeURIComponent(unescape(href))\n\t\t\t\t\t\t.replace(/[^\\w:]/g, \'\')\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn \'\'\n\t\t\t\t}\n\n\t\t\t\tif (prot.indexOf(\'http:\') !== 0 && prot.indexOf(\'https:\') !== 0) {\n\t\t\t\t\treturn \'\'\n\t\t\t\t}\n\n\t\t\t\tlet out = \'<a href="\' + href + \'" rel="noreferrer noopener"\'\n\t\t\t\tif (title) {\n\t\t\t\t\tout += \' title="\' + title + \'"\'\n\t\t\t\t}\n\t\t\t\tout += \'>\' + text + \'</a>\'\n\t\t\t\treturn out\n\t\t\t}\n\t\t\trenderer.image = function(href, title, text) {\n\t\t\t\tif (text) {\n\t\t\t\t\treturn text\n\t\t\t\t}\n\t\t\t\treturn title\n\t\t\t}\n\t\t\trenderer.blockquote = function(quote) {\n\t\t\t\treturn quote\n\t\t\t}\n\t\t\treturn dompurify.sanitize(\n\t\t\t\tmarked(this.app.description.trim(), {\n\t\t\t\t\trenderer,\n\t\t\t\t\tgfm: false,\n\t\t\t\t\thighlight: false,\n\t\t\t\t\ttables: false,\n\t\t\t\t\tbreaks: false,\n\t\t\t\t\tpedantic: false,\n\t\t\t\t\tsanitize: true,\n\t\t\t\t\tsmartLists: true,\n\t\t\t\t\tsmartypants: false,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\tSAFE_FOR_JQUERY: true,\n\t\t\t\t\tALLOWED_TAGS: [\n\t\t\t\t\t\t\'strong\',\n\t\t\t\t\t\t\'p\',\n\t\t\t\t\t\t\'a\',\n\t\t\t\t\t\t\'ul\',\n\t\t\t\t\t\t\'ol\',\n\t\t\t\t\t\t\'li\',\n\t\t\t\t\t\t\'em\',\n\t\t\t\t\t\t\'del\',\n\t\t\t\t\t\t\'blockquote\',\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t},\n\tmounted() {\n\t\tif (this.app.groups.length > 0) {\n\t\t\tthis.groupCheckedAppsData = true\n\t\t}\n\t\tif (this.app.screenshot) {\n\t\t\tconst image = new Image()\n\t\t\timage.onload = (e) => {\n\t\t\t\tthis.screenshotLoaded = true\n\t\t\t}\n\t\t\timage.src = this.app.screenshot\n\t\t}\n\t},\n}\n<\/script>\n\n<style scoped>\n\t.force {\n\t\tbackground: var(--color-main-background);\n\t\tborder-color: var(--color-error);\n\t\tcolor: var(--color-error);\n\t}\n\t.force:hover,\n\t.force:active {\n\t\tbackground: var(--color-error);\n\t\tborder-color: var(--color-error) !important;\n\t\tcolor: var(--color-main-background);\n\t}\n</style>\n']}]),e.default=i},532:function(e,n,a){"use strict";a.r(n);var i=a(502),s=a.n(i),r=a(503),p=a.n(r),o=a(504),l=a.n(o),c=a(505),u=a.n(c),d=a(522),v=a.n(d),g=a(523),h=a.n(g),f=a(506),m=a.n(f),b=a(14),A=a(507),y=a.n(A),_=a(10),w={name:"AppScore",props:["score"],computed:{scoreImage:function(){var t="rating/s"+Math.round(10*this.score)+".svg";return Object(_.imagePath)("core",t)}}},C=a(32),k=Object(C.a)(w,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"app-score-image",attrs:{"src":this.scoreImage}})}),[],!1,null,null,null).exports,x={computed:{appGroups:function(){return this.app.groups.map((function(t){return{id:t,name:t}}))},loading:function(){var t=this;return function(e){return t.$store.getters.loading(e)}},installing:function(){return this.$store.getters.loading("install")},enableButtonText:function(){return this.app.needsDownload?t("settings","Download and enable"):t("settings","Enable")},forceEnableButtonText:function(){return this.app.needsDownload,t("settings","Enable untested app")},enableButtonTooltip:function(){return!!this.app.needsDownload&&t("settings","The app will be downloaded from the app store")},forceEnableButtonTooltip:function(){var e=t("settings","This app is not marked as compatible with your Nextcloud version. If you continue you will still be able to install the app. Note that the app might not work as expected.");return this.app.needsDownload?e+" "+t("settings","The app will be downloaded from the app store"):e}},mounted:function(){this.app.groups.length>0&&(this.groupCheckedAppsData=!0)},methods:{asyncFindGroup:function(t){return this.$store.dispatch("getGroups",{search:t,limit:5,offset:0})},isLimitedToGroups:function(t){return!(!this.app.groups.length&&!this.groupCheckedAppsData)},setGroupLimit:function(){this.groupCheckedAppsData||this.$store.dispatch("enableApp",{appId:this.app.id,groups:[]})},canLimitToGroups:function(t){return!(t.types&&t.types.includes("filesystem")||t.types.includes("prelogin")||t.types.includes("authentication")||t.types.includes("logging")||t.types.includes("prevent_group_restriction"))},addGroupLimitation:function(t){var e=this.app.groups.concat([]).concat([t.id]);this.$store.dispatch("enableApp",{appId:this.app.id,groups:e})},removeGroupLimitation:function(t){var e=this.app.groups.concat([]),n=e.indexOf(t.id);n>-1&&e.splice(n,1),this.$store.dispatch("enableApp",{appId:this.app.id,groups:e})},forceEnable:function(t){this.$store.dispatch("forceEnableApp",{appId:t,groups:[]}).then((function(t){OC.Settings.Apps.rebuildNavigation()})).catch((function(t){OC.Notification.show(t)}))},enable:function(t){this.$store.dispatch("enableApp",{appId:t,groups:[]}).then((function(t){OC.Settings.Apps.rebuildNavigation()})).catch((function(t){OC.Notification.show(t)}))},disable:function(t){this.$store.dispatch("disableApp",{appId:t}).then((function(t){OC.Settings.Apps.rebuildNavigation()})).catch((function(t){OC.Notification.show(t)}))},remove:function(t){this.$store.dispatch("uninstallApp",{appId:t}).then((function(t){OC.Settings.Apps.rebuildNavigation()})).catch((function(t){OC.Notification.show(t)}))},install:function(t){this.$store.dispatch("enableApp",{appId:t}).then((function(t){OC.Settings.Apps.rebuildNavigation()})).catch((function(t){OC.Notification.show(t)}))},update:function(t){this.$store.dispatch("updateApp",{appId:t}).then((function(t){OC.Settings.Apps.rebuildNavigation()})).catch((function(t){OC.Notification.show(t)}))}}},T=Object(C.a)(x,void 0,void 0,!1,null,null,null).exports,S={name:"SvgFilterMixin",data:function(){return{filterId:""}},computed:{filterUrl:function(){return"url(#".concat(this.filterId,")")}},mounted:function(){this.filterId="invertIconApps"+Math.floor(100*Math.random())+(new Date).getSeconds()+(new Date).getMilliseconds()}},N=Object(C.a)(S,void 0,void 0,!1,null,null,null).exports;function I(t,e,n,a,i,s,r){try{var p=t[s](r),o=p.value}catch(t){return void n(t)}p.done?e(o):Promise.resolve(o).then(a,i)}var L={name:"AppItem",components:{AppScore:k},mixins:[T,N],props:{app:{},category:{},listView:{type:Boolean,default:!0}},data:function(){return{isSelected:!1,scrolled:!1,screenshotLoaded:!1}},computed:{hasRating:function(){return this.app.appstoreData&&this.app.appstoreData.ratingNumOverall>5}},watch:{"$route.params.id":function(t){this.isSelected=this.app.id===t}},mounted:function(){var t=this;if(this.isSelected=this.app.id===this.$route.params.id,this.app.screenshot){var e=new Image;e.onload=function(e){t.screenshotLoaded=!0},e.src=this.app.screenshot}},watchers:{},methods:{showAppDetails:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("INPUT"!==t.currentTarget.tagName&&"A"!==t.currentTarget.tagName){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,n.$router.push({name:"apps-details",params:{category:n.category,id:n.app.id}});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function r(t){I(s,a,i,r,p,"next",t)}function p(t){I(s,a,i,r,p,"throw",t)}r(void 0)}))})()},prefix:function(t,e){return t+"_"+e}}},D=(a(524),Object(C.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section",class:{selected:t.isSelected},on:{"click":t.showAppDetails}},[n("div",{staticClass:"app-image app-image-icon",on:{"click":t.showAppDetails}},[t.listView&&!t.app.preview||!t.listView&&!t.screenshotLoaded?n("div",{staticClass:"icon-settings-dark"}):t.listView&&t.app.preview?n("svg",{attrs:{"width":"32","height":"32","viewBox":"0 0 32 32"}},[n("defs",[n("filter",{attrs:{"id":t.filterId}},[n("feColorMatrix",{attrs:{"in":"SourceGraphic","type":"matrix","values":"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"}})],1)]),t._v(" "),n("image",{staticClass:"app-icon",attrs:{"x":"0","y":"0","width":"32","height":"32","preserveAspectRatio":"xMinYMin meet","filter":t.filterUrl,"xlink:href":t.app.preview}})]):t._e(),t._v(" "),!t.listView&&t.app.screenshot&&t.screenshotLoaded?n("img",{attrs:{"src":t.app.screenshot,"width":"100%"}}):t._e()]),t._v(" "),n("div",{staticClass:"app-name",on:{"click":t.showAppDetails}},[t._v("\n\t\t"+t._s(t.app.name)+"\n\t")]),t._v(" "),t.listView?t._e():n("div",{staticClass:"app-summary"},[t._v("\n\t\t"+t._s(t.app.summary)+"\n\t")]),t._v(" "),t.listView?n("div",{staticClass:"app-version"},[t.app.version?n("span",[t._v(t._s(t.app.version))]):t.app.appstoreData.releases[0].version?n("span",[t._v(t._s(t.app.appstoreData.releases[0].version))]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"app-level"},[300===t.app.level?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.t("settings","This app is supported via your current Nextcloud subscription."),expression:"t('settings', 'This app is supported via your current Nextcloud subscription.')",modifiers:{"auto":!0}}],staticClass:"supported icon-checkmark-color"},[t._v("\n\t\t\t"+t._s(t.t("settings","Supported")))]):t._e(),t._v(" "),200===t.app.level?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.t("settings","Featured apps are developed by and within the community. They offer central functionality and are ready for production use."),expression:"t('settings', 'Featured apps are developed by and within the community. They offer central functionality and are ready for production use.')",modifiers:{"auto":!0}}],staticClass:"official icon-checkmark"},[t._v("\n\t\t\t"+t._s(t.t("settings","Featured")))]):t._e(),t._v(" "),t.hasRating&&!t.listView?n("AppScore",{attrs:{"score":t.app.score}}):t._e()],1),t._v(" "),n("div",{staticClass:"actions"},[t.app.error?n("div",{staticClass:"warning"},[t._v("\n\t\t\t"+t._s(t.app.error)+"\n\t\t")]):t._e(),t._v(" "),t.loading(t.app.id)?n("div",{staticClass:"icon icon-loading-small"}):t._e(),t._v(" "),t.app.update?n("input",{staticClass:"update primary",attrs:{"type":"button","value":t.t("settings","Update to {update}",{update:t.app.update}),"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return e.stopPropagation(),t.update(t.app.id)}}}):t._e(),t._v(" "),t.app.canUnInstall?n("input",{staticClass:"uninstall",attrs:{"type":"button","value":t.t("settings","Remove"),"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return e.stopPropagation(),t.remove(t.app.id)}}}):t._e(),t._v(" "),t.app.active?n("input",{staticClass:"enable",attrs:{"type":"button","value":t.t("settings","Disable"),"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return e.stopPropagation(),t.disable(t.app.id)}}}):t._e(),t._v(" "),t.app.active||!t.app.canInstall&&!t.app.isCompatible?t.app.active?t._e():n("input",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.forceEnableButtonTooltip,expression:"forceEnableButtonTooltip",modifiers:{"auto":!0}}],staticClass:"enable force",attrs:{"type":"button","value":t.forceEnableButtonText,"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return e.stopPropagation(),t.forceEnable(t.app.id)}}}):n("input",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.enableButtonTooltip,expression:"enableButtonTooltip",modifiers:{"auto":!0}}],staticClass:"enable",attrs:{"type":"button","value":t.enableButtonText,"disabled":!t.app.canInstall||t.installing||t.loading(t.app.id)},on:{"click":function(e){return e.stopPropagation(),t.enable(t.app.id)}}})])])}),[],!1,null,"a2726204",null).exports),M={name:"PrefixMixin",methods:{prefix:function(t,e){return t+"_"+e}}},U=Object(C.a)(M,void 0,void 0,!1,null,null,null).exports,O=a(526),B=a.n(O),G={name:"AppList",components:{AppItem:D},mixins:[U],props:["category","app","search"],computed:{counter:function(){return this.apps.filter((function(t){return t.update})).length},loading:function(){return this.$store.getters.loading("list")},hasPendingUpdate:function(){return this.apps.filter((function(t){return t.update})).length>1},showUpdateAll:function(){return this.hasPendingUpdate&&["installed","updates"].includes(this.category)},apps:function(){var t=this,e=this.$store.getters.getAllApps.filter((function(e){return-1!==e.name.toLowerCase().search(t.search.toLowerCase())})).sort((function(t,e){var n=""+(t.active?0:1)+(t.update?0:1)+t.name,a=""+(e.active?0:1)+(e.update?0:1)+e.name;return OC.Util.naturalSortCompare(n,a)}));return"installed"===this.category?e.filter((function(t){return t.installed})):"enabled"===this.category?e.filter((function(t){return t.active&&t.installed})):"disabled"===this.category?e.filter((function(t){return!t.active&&t.installed})):"app-bundles"===this.category?e.filter((function(t){return t.bundles})):"updates"===this.category?e.filter((function(t){return t.update})):"featured"===this.category?e.filter((function(t){return 200===t.level})):e.filter((function(e){return e.appstore&&void 0!==e.category&&(e.category===t.category||e.category.indexOf(t.category)>-1)}))},bundles:function(){var t=this;return this.$store.getters.getServerData.bundles.filter((function(e){return t.bundleApps(e.id).length>0}))},bundleApps:function(){return function(t){return this.$store.getters.getAllApps.filter((function(e){return void 0!==e.bundleIds&&e.bundleIds.includes(t)}))}},searchApps:function(){var t=this;return""===this.search?[]:this.$store.getters.getAllApps.filter((function(e){return-1!==e.name.toLowerCase().search(t.search.toLowerCase())&&!t.apps.find((function(t){return t.id===e.id}))}))},useAppStoreView:function(){return!this.useListView&&!this.useBundleView},useListView:function(){return"installed"===this.category||"enabled"===this.category||"disabled"===this.category||"updates"===this.category||"featured"===this.category},useBundleView:function(){return"app-bundles"===this.category},allBundlesEnabled:function(){var t=this;return function(e){return 0===t.bundleApps(e).filter((function(t){return!t.active})).length}},bundleToggleText:function(){var e=this;return function(n){return e.allBundlesEnabled(n)?t("settings","Disable all"):t("settings","Enable all")}}},methods:{toggleBundle:function(t){return this.allBundlesEnabled(t)?this.disableBundle(t):this.enableBundle(t)},enableBundle:function(t){var e=this.bundleApps(t).map((function(t){return t.id}));this.$store.dispatch("enableApp",{appId:e,groups:[]}).catch((function(t){console.error(t),OC.Notification.show(t)}))},disableBundle:function(t){var e=this.bundleApps(t).map((function(t){return t.id}));this.$store.dispatch("disableApp",{appId:e,groups:[]}).catch((function(t){OC.Notification.show(t)}))},updateAll:function(){var t=this,e=B()(1);this.apps.filter((function(t){return t.update})).map((function(n){return e((function(){return t.$store.dispatch("updateApp",{appId:n.id})}))}))}}},R=Object(C.a)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{"id":"app-content-inner"}},[n("div",{staticClass:"apps-list",class:{installed:t.useBundleView||t.useListView,store:t.useAppStoreView},attrs:{"id":"apps-list"}},[t.useListView?[t.showUpdateAll?n("div",{staticClass:"counter"},[t._v("\n\t\t\t\t"+t._s(t.n("settings","%n app has an update available","%n apps have an update available",t.counter))+"\n\t\t\t\t"),t.showUpdateAll?n("button",{staticClass:"primary",attrs:{"id":"app-list-update-all"},on:{"click":t.updateAll}},[t._v("\n\t\t\t\t\t"+t._s(t.t("settings","Update all"))+"\n\t\t\t\t")]):t._e()]):t._e(),t._v(" "),n("transition-group",{staticClass:"apps-list-container",attrs:{"name":"app-list","tag":"div"}},t._l(t.apps,(function(e){return n("AppItem",{key:e.id,attrs:{"app":e,"category":t.category}})})),1)]:t._e(),t._v(" "),t.useBundleView?n("transition-group",{staticClass:"apps-list-container",attrs:{"name":"app-list","tag":"div"}},[t._l(t.bundles,(function(e){return[n("div",{key:e.id,staticClass:"apps-header"},[n("div",{staticClass:"app-image"}),t._v(" "),n("h2",[t._v(t._s(e.name)+" "),n("input",{attrs:{"type":"button","value":t.bundleToggleText(e.id)},on:{"click":function(n){return t.toggleBundle(e.id)}}})]),t._v(" "),n("div",{staticClass:"app-version"}),t._v(" "),n("div",{staticClass:"app-level"}),t._v(" "),n("div",{staticClass:"app-groups"}),t._v(" "),n("div",{staticClass:"actions"},[t._v("\n\t\t\t\t\t\t \n\t\t\t\t\t")])]),t._v(" "),t._l(t.bundleApps(e.id),(function(a){return n("AppItem",{key:e.id+a.id,attrs:{"app":a,"category":t.category}})}))]}))],2):t._e(),t._v(" "),t.useAppStoreView?t._l(t.apps,(function(e){return n("AppItem",{key:e.id,attrs:{"app":e,"category":t.category,"list-view":!1}})})):t._e()],2),t._v(" "),n("div",{staticClass:"apps-list installed",attrs:{"id":"apps-list-search"}},[n("div",{staticClass:"apps-list-container"},[""!==t.search&&t.searchApps.length>0?[n("div",{staticClass:"section"},[n("div"),t._v(" "),n("td",{attrs:{"colspan":"5"}},[n("h2",[t._v(t._s(t.t("settings","Results from other categories")))])])]),t._v(" "),t._l(t.searchApps,(function(e){return n("AppItem",{key:e.id,attrs:{"app":e,"category":t.category,"list-view":!0}})}))]:t._e()],2)]),t._v(" "),""===t.search||t.loading||0!==t.searchApps.length||0!==t.apps.length?t._e():n("div",{staticClass:"emptycontent emptycontent-search",attrs:{"id":"apps-list-empty"}},[n("div",{staticClass:"icon-settings-dark",attrs:{"id":"app-list-empty-icon"}}),t._v(" "),n("h2",[t._v(t._s(t.t("settings","No apps found for your version")))])]),t._v(" "),n("div",{attrs:{"id":"searchresults"}})])}),[],!1,null,null,null).exports,$=a(138),E=a(528),V=a.n(E),F=a(529),P=a.n(F),Y={name:"AppDetails",components:{Multiselect:$.Multiselect,AppScore:k},mixins:[T,U,N],props:["category","app"],data:function(){return{groupCheckedAppsData:!1,screenshotLoaded:!1}},computed:{appstoreUrl:function(){return"https://apps.nextcloud.com/apps/".concat(this.app.id)},licence:function(){return this.app.licence?t("settings","{license}-licensed",{license:(""+this.app.licence).toUpperCase()}):null},hasRating:function(){return this.app.appstoreData&&this.app.appstoreData.ratingNumOverall>5},author:function(){return"string"==typeof this.app.author?[{"@value":this.app.author}]:this.app.author["@value"]?[this.app.author]:this.app.author},appGroups:function(){return this.app.groups.map((function(t){return{id:t,name:t}}))},groups:function(){return this.$store.getters.getGroups.filter((function(t){return"disabled"!==t.id})).sort((function(t,e){return t.name.localeCompare(e.name)}))},renderMarkdown:function(){var t=new V.a.Renderer;return t.link=function(t,e,n){var a;try{a=decodeURIComponent(unescape(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))return"";var i='<a href="'+t+'" rel="noreferrer noopener"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},t.image=function(t,e,n){return n||e},t.blockquote=function(t){return t},P.a.sanitize(V()(this.app.description.trim(),{renderer:t,gfm:!1,highlight:!1,tables:!1,breaks:!1,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),{SAFE_FOR_JQUERY:!0,ALLOWED_TAGS:["strong","p","a","ul","ol","li","em","del","blockquote"]})}},mounted:function(){var t=this;if(this.app.groups.length>0&&(this.groupCheckedAppsData=!0),this.app.screenshot){var e=new Image;e.onload=function(e){t.screenshotLoaded=!0},e.src=this.app.screenshot}}},j=(a(530),Object(C.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding":"20px"},attrs:{"id":"app-details-view"}},[n("h2",[t.app.preview?t._e():n("div",{staticClass:"icon-settings-dark"}),t._v(" "),t.app.previewAsIcon&&t.app.preview?n("svg",{attrs:{"width":"32","height":"32","viewBox":"0 0 32 32"}},[n("defs",[n("filter",{attrs:{"id":t.filterId}},[n("feColorMatrix",{attrs:{"in":"SourceGraphic","type":"matrix","values":"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"}})],1)]),t._v(" "),n("image",{staticClass:"app-icon",attrs:{"x":"0","y":"0","width":"32","height":"32","preserveAspectRatio":"xMinYMin meet","filter":t.filterUrl,"xlink:href":t.app.preview}})]):t._e(),t._v("\n\t\t"+t._s(t.app.name)+"\n\t")]),t._v(" "),t.screenshotLoaded?n("img",{attrs:{"src":t.app.screenshot,"width":"100%"}}):t._e(),t._v(" "),300===t.app.level||200===t.app.level||t.hasRating?n("div",{staticClass:"app-level"},[300===t.app.level?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.t("settings","This app is supported via your current Nextcloud subscription."),expression:"t('settings', 'This app is supported via your current Nextcloud subscription.')",modifiers:{"auto":!0}}],staticClass:"supported icon-checkmark-color"},[t._v("\n\t\t\t"+t._s(t.t("settings","Supported")))]):t._e(),t._v(" "),200===t.app.level?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.t("settings","Featured apps are developed by and within the community. They offer central functionality and are ready for production use."),expression:"t('settings', 'Featured apps are developed by and within the community. They offer central functionality and are ready for production use.')",modifiers:{"auto":!0}}],staticClass:"official icon-checkmark"},[t._v("\n\t\t\t"+t._s(t.t("settings","Featured")))]):t._e(),t._v(" "),t.hasRating?n("AppScore",{attrs:{"score":t.app.appstoreData.ratingOverall}}):t._e()],1):t._e(),t._v(" "),t.author?n("div",{staticClass:"app-author"},[t._v("\n\t\t"+t._s(t.t("settings","by"))+"\n\t\t"),t._l(t.author,(function(e,a){return n("span",{key:a},[e["@attributes"]&&e["@attributes"].homepage?n("a",{attrs:{"href":e["@attributes"].homepage}},[t._v(t._s(e["@value"]))]):e["@value"]?n("span",[t._v(t._s(e["@value"]))]):n("span",[t._v(t._s(e))]),a+1<t.author.length?n("span",[t._v(", ")]):t._e()])}))],2):t._e(),t._v(" "),t.licence?n("div",{staticClass:"app-licence"},[t._v("\n\t\t"+t._s(t.licence)+"\n\t")]):t._e(),t._v(" "),n("div",{staticClass:"actions"},[n("div",{staticClass:"actions-buttons"},[t.app.update?n("input",{staticClass:"update primary",attrs:{"type":"button","value":t.t("settings","Update to {version}",{version:t.app.update}),"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return t.update(t.app.id)}}}):t._e(),t._v(" "),t.app.canUnInstall?n("input",{staticClass:"uninstall",attrs:{"type":"button","value":t.t("settings","Remove"),"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return t.remove(t.app.id)}}}):t._e(),t._v(" "),t.app.active?n("input",{staticClass:"enable",attrs:{"type":"button","value":t.t("settings","Disable"),"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return t.disable(t.app.id)}}}):t._e(),t._v(" "),t.app.active||!t.app.canInstall&&!t.app.isCompatible?t.app.active?t._e():n("input",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.forceEnableButtonTooltip,expression:"forceEnableButtonTooltip",modifiers:{"auto":!0}}],staticClass:"enable force",attrs:{"type":"button","value":t.forceEnableButtonText,"disabled":t.installing||t.loading(t.app.id)},on:{"click":function(e){return t.forceEnable(t.app.id)}}}):n("input",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.enableButtonTooltip,expression:"enableButtonTooltip",modifiers:{"auto":!0}}],staticClass:"enable primary",attrs:{"type":"button","value":t.enableButtonText,"disabled":!t.app.canInstall||t.installing||t.loading(t.app.id)},on:{"click":function(e){return t.enable(t.app.id)}}})]),t._v(" "),n("div",{staticClass:"app-groups"},[t.app.active&&t.canLimitToGroups(t.app)?n("div",{staticClass:"groups-enable"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.groupCheckedAppsData,expression:"groupCheckedAppsData"}],staticClass:"groups-enable__checkbox checkbox",attrs:{"id":t.prefix("groups_enable",t.app.id),"type":"checkbox"},domProps:{"value":t.app.id,"checked":Array.isArray(t.groupCheckedAppsData)?t._i(t.groupCheckedAppsData,t.app.id)>-1:t.groupCheckedAppsData},on:{"change":[function(e){var n=t.groupCheckedAppsData,a=e.target,i=!!a.checked;if(Array.isArray(n)){var s=t.app.id,r=t._i(n,s);a.checked?r<0&&(t.groupCheckedAppsData=n.concat([s])):r>-1&&(t.groupCheckedAppsData=n.slice(0,r).concat(n.slice(r+1)))}else t.groupCheckedAppsData=i},t.setGroupLimit]}}),t._v(" "),n("label",{attrs:{"for":t.prefix("groups_enable",t.app.id)}},[t._v(t._s(t.t("settings","Limit to groups")))]),t._v(" "),n("input",{staticClass:"group_select",attrs:{"type":"hidden","title":t.t("settings","All"),"value":""}}),t._v(" "),t.isLimitedToGroups(t.app)?n("Multiselect",{staticClass:"multiselect-vue",attrs:{"options":t.groups,"value":t.appGroups,"options-limit":5,"placeholder":t.t("settings","Limit app usage to groups"),"label":"name","track-by":"id","multiple":!0,"close-on-select":!1,"tag-width":60},on:{"select":t.addGroupLimitation,"remove":t.removeGroupLimitation,"search-change":t.asyncFindGroup}},[n("span",{attrs:{"slot":"noResult"},slot:"noResult"},[t._v(t._s(t.t("settings","No results")))])]):t._e()],1):t._e()])]),t._v(" "),n("ul",{staticClass:"app-dependencies"},[t.app.missingMinOwnCloudVersion?n("li",[t._v("\n\t\t\t"+t._s(t.t("settings","This app has no minimum Nextcloud version assigned. This will be an error in the future."))+"\n\t\t")]):t._e(),t._v(" "),t.app.missingMaxOwnCloudVersion?n("li",[t._v("\n\t\t\t"+t._s(t.t("settings","This app has no maximum Nextcloud version assigned. This will be an error in the future."))+"\n\t\t")]):t._e(),t._v(" "),t.app.canInstall?t._e():n("li",[t._v("\n\t\t\t"+t._s(t.t("settings","This app cannot be installed because the following dependencies are not fulfilled:"))+"\n\t\t\t"),n("ul",{staticClass:"missing-dependencies"},t._l(t.app.missingDependencies,(function(e,a){return n("li",{key:a},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])})),0)])]),t._v(" "),n("p",{staticClass:"documentation"},[t.app.internal?t._e():n("a",{staticClass:"appslink",attrs:{"href":t.appstoreUrl,"target":"_blank","rel":"noreferrer noopener"}},[t._v(t._s(t.t("settings","View in store"))+" ↗")]),t._v(" "),t.app.website?n("a",{staticClass:"appslink",attrs:{"href":t.app.website,"target":"_blank","rel":"noreferrer noopener"}},[t._v(t._s(t.t("settings","Visit website"))+" ↗")]):t._e(),t._v(" "),t.app.bugs?n("a",{staticClass:"appslink",attrs:{"href":t.app.bugs,"target":"_blank","rel":"noreferrer noopener"}},[t._v(t._s(t.t("settings","Report a bug"))+" ↗")]):t._e(),t._v(" "),t.app.documentation&&t.app.documentation.user?n("a",{staticClass:"appslink",attrs:{"href":t.app.documentation.user,"target":"_blank","rel":"noreferrer noopener"}},[t._v(t._s(t.t("settings","User documentation"))+" ↗")]):t._e(),t._v(" "),t.app.documentation&&t.app.documentation.admin?n("a",{staticClass:"appslink",attrs:{"href":t.app.documentation.admin,"target":"_blank","rel":"noreferrer noopener"}},[t._v(t._s(t.t("settings","Admin documentation"))+" ↗")]):t._e(),t._v(" "),t.app.documentation&&t.app.documentation.developer?n("a",{staticClass:"appslink",attrs:{"href":t.app.documentation.developer,"target":"_blank","rel":"noreferrer noopener"}},[t._v(t._s(t.t("settings","Developer documentation"))+" ↗")]):t._e()]),t._v(" "),n("div",{staticClass:"app-description",domProps:{"innerHTML":t._s(t.renderMarkdown)}})])}),[],!1,null,"0eaf6f08",null).exports);b.default.use(y.a);var H={name:"Apps",components:{AppContent:s.a,AppDetails:j,AppList:R,AppNavigation:p.a,AppNavigationCounter:l.a,AppNavigationItem:u.a,AppNavigationSpacer:v.a,AppSidebar:h.a,Content:m.a},props:{category:{type:String,default:"installed"},id:{type:String,default:""}},data:function(){return{searchQuery:""}},computed:{loading:function(){return this.$store.getters.loading("categories")},loadingList:function(){return this.$store.getters.loading("list")},currentApp:function(){var t=this;return this.apps.find((function(e){return e.id===t.id}))},categories:function(){return this.$store.getters.getCategories},apps:function(){return this.$store.getters.getAllApps},updateCount:function(){return this.$store.getters.getUpdateCount},settings:function(){return this.$store.getters.getServerData}},watch:{category:function(t,e){this.setSearch("")}},beforeMount:function(){this.$store.dispatch("getCategories"),this.$store.dispatch("getAllApps"),this.$store.dispatch("getGroups",{offset:0,limit:5}),this.$store.commit("setUpdateCount",this.$store.getters.getServerData.updateCount)},mounted:function(){this.appSearch=new OCA.Search(this.setSearch,this.resetSearch)},methods:{setSearch:function(t){this.searchQuery=t},resetSearch:function(){this.setSearch("")},hideAppDetails:function(){this.$router.push({name:"apps-category",params:{category:this.category}})}}},J=Object(C.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Content",{class:{"with-app-sidebar":t.currentApp},attrs:{"app-name":"settings","content-class":{"icon-loading":t.loadingList},"navigation-class":{"icon-loading":t.loading}}},[n("AppNavigation",{scopedSlots:t._u([{key:"list",fn:function(){return[n("AppNavigationItem",{attrs:{"id":"app-category-your-apps","to":{name:"apps"},"exact":!0,"icon":"icon-category-installed","title":t.t("settings","Your apps")}}),t._v(" "),n("AppNavigationItem",{attrs:{"id":"app-category-enabled","to":{name:"apps-category",params:{category:"enabled"}},"icon":"icon-category-enabled","title":t.t("settings","Active apps")}}),t._v(" "),n("AppNavigationItem",{attrs:{"id":"app-category-disabled","to":{name:"apps-category",params:{category:"disabled"}},"icon":"icon-category-disabled","title":t.t("settings","Disabled apps")}}),t._v(" "),t.updateCount>0?n("AppNavigationItem",{attrs:{"id":"app-category-updates","to":{name:"apps-category",params:{category:"updates"}},"icon":"icon-download","title":t.t("settings","Updates")}},[n("AppNavigationCounter",{attrs:{"slot":"counter"},slot:"counter"},[t._v("\n\t\t\t\t\t"+t._s(t.updateCount)+"\n\t\t\t\t")])],1):t._e(),t._v(" "),n("AppNavigationItem",{attrs:{"id":"app-category-your-bundles","to":{name:"apps-category",params:{category:"app-bundles"}},"icon":"icon-category-app-bundles","title":t.t("settings","App bundles")}}),t._v(" "),n("AppNavigationSpacer"),t._v(" "),t.settings.appstoreEnabled?[n("AppNavigationItem",{attrs:{"id":"app-category-featured","to":{name:"apps-category",params:{category:"featured"}},"icon":"icon-favorite","title":t.t("settings","Featured apps")}}),t._v(" "),t._l(t.categories,(function(t){return n("AppNavigationItem",{key:"icon-category-"+t.ident,attrs:{"icon":"icon-category-"+t.ident,"to":{name:"apps-category",params:{category:t.ident}},"title":t.displayName}})}))]:t._e(),t._v(" "),n("AppNavigationItem",{attrs:{"id":"app-developer-docs","href":"settings.developerDocumentation","title":t.t("settings","Developer documentation")+" ↗"}})]},proxy:!0}])}),t._v(" "),n("AppContent",{staticClass:"app-settings-content",class:{"icon-loading":t.loadingList}},[n("AppList",{attrs:{"category":t.category,"app":t.currentApp,"search":t.searchQuery}})],1),t._v(" "),t.id&&t.currentApp?n("AppSidebar",{on:{"close":t.hideAppDetails}},[n("AppDetails",{attrs:{"category":t.category,"app":t.currentApp}})],1):t._e()],1)}),[],!1,null,null,null);n.default=J.exports}}]);
//# sourceMappingURL=vue-7.js.map?v=1f442494c5e9ed3ec097